{% extends "sign_up_for_event_template.html" %}

{% load static %}
{% block headformblock %}
{{ form.media }}
{% endblock %}


{% block eventdetailsblock %}

<div class="page-header">
        <h2 class="text-center text-uppercase">{{ event.title }}</h2>
</div>

    <div class="row">
        <div class="col-lg-4"><b>Category:</b> {{ event.category }}</div>
        <div class="col-lg-4">
            <b>Status:</b>
            {% if event.status == 'Open' %}
            <span class="label label-success">Open</span>
            {% else %}
            <span class="label label-danger">Closed</span>
            {% endif %}

        </div>
        <div class="col-lg-4"><b>Participants:</b> {{ event.current_participants_amount }}/{{ event.max_participants }}</div>
    </div>
    <br/>
    <div class="row">
        <div class="col-lg-4"><b>Price:</b> {{ event.price }}</div>
        <div class="col-lg-4"><b>From:</b> {{ event.date_from }}</div>
        <div class="col-lg-4"><b>To:</b> {{ event.date_to }}</div>
    </div>
    <br/>
    <div class="row">
        <div class="col-lg-12"><b>Description:</b> </div>
        <div class=col-lg-12>{{ event.description }}</div>
    </div>


{% endblock %}

{% block formblock %}
    <form action="/register/" method="post">
        {% csrf_token %}
        {% for field in form %}
            <div class="form-group">
                {{ field.errors }}
                {{ field.label_tag }}<br/> {{ field }}
            </div>
        {% endfor %}
        <div class="form-row">
        <input type="submit" value="Sign up for Event" class="btn btn-block btn-success"/>
            </div>
    </form>
    <script>
    $(document).ready(function (){
        status ='{{ event.status }}';
        if( status === 'Closed'){
            $('input').prop('disabled',true);
        }
    });
</script>
{% endblock %}

